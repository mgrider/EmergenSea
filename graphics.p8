pico-8 cartridge // http://www.pico-8.com
version 16
__lua__

function animate()
	local clipy = -16
	local time = 0
	local water_frame = 0
	local water_frames = {32, 34, 36, 34}
	
	function render()
		cls(12)
		camera()
		
		local frame = water_frames[flr(water_frame/4)%4 + 1]
		spr(frame, 56, 61, 2, 2)
		water_frame += 1
		
		clip(0, 0, 128, 72)
		camera(0, clipy)
		
		spr(0, 56, 56, 2, 2)
		
		spr(2, 80 + 4*sin(time), 64)
		spr(3, 40 + 4*sin(time + 0.3), 64)
	end
	
	while clipy < 0 do
		render()
		
		clipy += 1
		yield()
	end
	
	while true do
		render()
		
		time += 1/32
		yield()
	end
end

local co_animate = nil
function _init()
	co_animate = cocreate(animate)
end

function _draw()
	coresume(co_animate)
end

__gfx__
00005555555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00005555555500000000ee000eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000555555550000000ee200002ee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
005577777777550000ee20000002ee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000555555555500000e200000002ee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000eeeeeeeee00000e2000000002ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000eee77ee77ee000ee2000000002ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000eee71ee17ee000ee2000000002ee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eeeeeeeeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eee111111eeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ee81111111eee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00ee88111111eee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00eee81888eeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
002ee8ee8eeee2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0002eeeeeee220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00002222222000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000007777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000077777700000000771111117700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000777777000000007711111177000007110000001170000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077111111770000071100000011700071000000000017000000000000000000000000000000000000000000000000000000000000000000000000000000000
00711000000117000710000000000170710000000000001700000000000000000000000000000000000000000000000000000000000000000000000000000000
00710000000017000710000000000170710000000000001700000000000000000000000000000000000000000000000000000000000000000000000000000000
00711000000117000710000000000170710000000000001700000000000000000000000000000000000000000000000000000000000000000000000000000000
00077111111770000071100000011700071000000000017000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000777777000000007711111177000007110000001170000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000077777700000000771111117700000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000007777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000
